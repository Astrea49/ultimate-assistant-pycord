
Last updated: 1 May 2022

# Credits


# Issues and Future Updates
- Grey out admin commands for non-admins (if supported by pycord)


# Dependencies
Built and tested on Ubuntu 20.04 (WSL) with 
- python 3.8.5
- py-cord 2.0.0b5
- aiocron 1.8
- d20 1.1.2


# Setting up your server
1. Admin commands will not work for non-admins, but will not be greyed out by default. To grey out commands for non-players and admins, you should consider using the Integration settings in your server settings like so:
[ex 1](./images/perms_example1.PNG)
[ex 2](./images/perms_example2.PNG)
[ex 3](./images/perms_example3.PNG)

2. Each player and character in your game will need to be registered with `/profile_admin new`. Admin can edit the name or surname with `/profile_admin edit text`. Players can have multiple registered characters each, but only one active character at a time.

3. It is recommended to give each player their own channel to receive messages generated by `/whisper` and `/anon_message`. Do this with `/profile_admin edit channel`.


# Usage


# Hosting
## Prep
1. Set up python virtual environment (v3.8.5)
2. Install `py-cord` (v2.0.0b5)
3. If using cron job, install `aiocron` (v1.8)
3. Paste bot token in a new file named `TOKEN.txt`
4. Put required IDs in `config.py`. If you set message content intents to True, it must be switched on in the bot's application page.
5. Run with `python main.py`

## Code
1. Avoid changing `main.py`, but you can add in event listeners and such.
2. Follow `./cogs/template_cog.py` 
3. Don't touch `./cogs/default_cog.py`
4. Add database utilities to `db.py`
5. Add other utilities to the `utils` directory
6. Change `.pylintrc` init-hook to the bot directory. 


# References
https://docs.pycord.dev/en/master/index.html